Axios拦截器优化报告
基于发布订阅式的Token刷新机制

1.现有逻辑：当Token过期后，拦截器直接调用RefreshToken接口

2.潜在风险：该项目有10万级用户同时在线，在警察早晚值班交接的时段，会产生瞬时高并发的风险，Token同时失效会产生大量无效请求，增加后端的负载

3.优化方案：

为解决上述问题，引入发布订阅设计模式对拦截器进行重构

请求队列（requestQueue）：充当缓冲区，将所有刷新期间的请求转化为挂起的promise

通知机制（onRefreshed）:刷新成功后，依次执行回调函数，将最新的Token分发给所有等待的请求

4.方案优势：请求合并，将n次刷新请求合并为1次，避免大量无效请求对后端的负载，节省带宽资源

5.总结：本次优化提升了系统在高并发场景下的稳定性，在大用户量级业务时，能有效处理Token失效带来的负载
